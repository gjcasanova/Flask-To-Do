{% extends "base.html" %}

{% block title %} {{super()}} | New list {% endblock %}

{% block body %}
<h1>{{ list.name }}</h1>
<form action="{{ url_for('tasks.retrieve_list', list_id=list.id) }}" method="POST">
    {{ list_form.csrf_token }}
    {{ list_form.name.label }}
    {{ list_form.name(value=list.name) }}
    {{ list_form.details.label }}
    {{ list_form.details(value=list.details) }}
    {{ list_form.submit }}
</form>

<h2>Taks</h2>
<a href="{{ url_for('tasks.create_task', list_id=list.id) }}">New task</a>
{% for task in list.tasks %}
<li>
    <a href="{{ url_for('tasks.retrieve_task', list_id=list.id, task_id=task.id) }}">{{ task.name }}</a>
    <form action="{{ url_for('tasks.destroy_task', list_id=list.id, task_id=task.id) }}" method="POST">
        <button type="submit">Delete</button>
    </form>
</li>
{% endfor %}

{% endblock %}